<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>今日の儀式</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="You are free.png">
    <link rel="icon" href="You are free.png" type="image/png">
</head>
<body>
    <div id="addEventModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button">×</span>
            <h2>新しいイベントを追加</h2>
            <div class="memo-section">
                <label for="modalEventName">イベント名:</label>
                <input type="text" id="modalEventName" placeholder="例: 読書、資料作成">
                <label for="modalEventDeadline">期限 (任意):</label>
                <input type="date" id="modalEventDeadline">
                <label for="modalEventAmount">量/イベント (任意):</label>
                <input type="text" id="modalEventAmount" placeholder="例: 100ページ、2時間">
            </div>
            <button id="saveEventBtn" class="action-btn">保存</button>
        </div>
    </div>

    <div id="recordCompletedAmountModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button close-record-modal">×</span>
            <h2>完了した量を記録</h2>
            <p id="completedAmountEventNameDisplay" class="highlight-text"></p>
            <div class="memo-section">
                <label for="modalCompletedAmount">今回完了した量:</label>
                <input type="text" id="modalCompletedAmount" placeholder="例: 10分、2ページ">
            </div>
            <button id="saveCompletedAmountBtn" class="action-btn">記録して次へ</button>
        </div>
    </div>

    <div class="container">
        <div id="greetingScreen" class="screen active">
            <div class="status-area">
                <p>レベル: <span id="greeting-current-level">1</span></p>
                <p>経験値: <span id="greeting-current-exp">0</span> / <span id="greeting-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="greeting-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <p id="datetime"></p>
            <h1 id="greeting"></h1>
        </div>

        <div id="statusSelectionScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="status-current-level">1</span></p>
                <p>経験値: <span id="status-current-exp">0</span> / <span id="status-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="status-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>今の状況を教えてください！</h2>
            <div class="options-grid">
                <button id="statusMorningBtn" class="action-btn">朝、起きました...</button>
                <button id="statusEventBtn" class="action-btn">イベントを進めたい！</button>
                <button id="statusAnxietyBtn" class="action-btn">不安、ストレス、退屈から開いちゃった。</button>
                <button id="statusOtherAppBtn" class="action-btn">別アプリにアクセスしたい</button>
                <button id="statusRestBtn" class="action-btn">ちょっと休憩を取りたい！</button>
            </div>
        </div>

        <div id="meaningConfirmationScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="meaning-current-level">1</span></p>
                <p>経験値: <span id="meaning-current-exp">0</span> / <span id="meaning-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="meaning-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>この世界について、確認しましょう！</h2>
            <p>前提として、この世界は辛いものです。</p>
            <p>生まれる国も、地域も、両親も、受け継ぐ遺伝子も何一つ自分で決められません！</p>
            <p>人間は不完全で醜く、自己欺瞞によって理性は構築され、感情によって行動は為されます。</p>
            <p>そんな人間が生み出した社会は、嫉妬や差別、陰謀、対立、支配を生み出しています。</p>
            <p>こんな世界には「生きる意味」「本当の自分」なんて存在しないし、きっといつ死んでもいいでしょう。</p>
            <p>それでも、この世界にまだいたいと感じるのは感動する瞬間があるからです。</p>
            <p>感動という一瞬の電気信号を得るために私は生きています。もったいないから生きているだけです。</p>
            <p>これも自己欺瞞ですが、感動という欺瞞であれば信仰して死ぬこともいいなと思えます。</p>
            <p>この電気信号なら信じられます。</p>
            <button id="toValuesBtn" class="action-btn next-btn">次へ</button>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="valuesConfirmationScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="values-current-level">1</span></p>
                <p>経験値: <span id="values-current-exp">0</span> / <span id="values-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="values-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <p>では、感動するためにどのようなことに気を付ければいいでしょうか</p>
            <p>まず「感動とは、感情の差であること」を抑えてください</p>
            <p>次に「そのためネガティブな状態は感動が近い状態であること」を忘れないでください</p>
            <p>最後に「期待せず、現実に即した形でネガティブな状態を超えていくこと」が大切です</p>
            <p>こんな生きてても仕方がない世界ですが、だからこそ進みたい方向に進みましょう！</p>
            <p>どんなネガティブを選び取るかはあなたの自由です！</p>
            <p>この次のページにあなたが目指す曖昧なイベントを置いておきます</p>
            <p>曖昧なイベントを進みたい方向性を定め、現実的なイベントを立て、それを超えていくことでなんとか日々の生きる活力を作っていきましょう！</p>
            <p>さて！それではこんなしょうもないことはいったん置いて、困難な日々に戻りましょう！</p>
            <p>困難な日々を生き抜いてさえいれば、きっと人生から小さな贈り物が届きます！</p>
            <p>私は私の人生を愛しています！いってらっしゃい！</p>
            <button id="toAmbiguousGoalBtn" class="action-btn next-btn">次へ</button>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="ambiguousGoalScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="ambiguous-current-level">1</span></p>
                <p>経験値: <span id="ambiguous-current-exp">0</span> / <span id="ambiguous-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="ambiguous-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>曖昧目標を確認しましょう</h2>
            <div class="options-grid">
                <div class="goal-item">
                    <h3>① 深い内面を持つこと</h3>
                </div>
                <div class="goal-item">
                    <h3>② 趣味で没頭する時間を持つこと</h3>
                </div>
                <div class="goal-item">
                    <h3>③ 高級ホテルのような環境を作ること</h3>
                </div>
                <div class="goal-item">
                    <h3>④ 充実した人間関係を持つこと</h3>
                </div>
                <div class="goal-item">
                    <h3>⑤ お金が付いてくるような実力を持つこと</h3>
                </div>
            </div>
            <button id="toWeeklyProgressFromAmbiguousBtn" class="action-btn next-btn">今週のイベントへ</button>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="weeklyProgressScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="weekly-current-level">1</span></p>
                <p>経験値: <span id="weekly-current-exp">0</span> / <span id="weekly-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="weekly-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>今週のイベント</h2>
            
            <h3>イベントリスト</h3>
            <div id="eventListContainer">
            </div>

            <button id="addNewEventBtn" class="action-btn">
                <span class="icon">＋</span>新しいイベントを追加
            </button>

            <div class="weekly-actions">
                <button id="toPreTaskBtnFromWeekly" class="action-btn next-btn">選択したイベントを開始</button>
                <button id="viewProgressBtn" class="action-btn">詳細進捗を確認</button>
            </div>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="preTaskScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="pretask-current-level">1</span></p>
                <p>経験値: <span id="pretask-current-exp">0</span> / <span id="pretask-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="pretask-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>タスク前儀式</h2>
            <p>これから行うイベントについて確認しましょう。</p>
            <div class="memo-section">
                <label for="selectedEventDisplay">イベント名:</label>
                <input type="text" id="selectedEventDisplay" readonly>
                <label for="memoTime">予測時間 (分):</label>
                <input type="number" id="memoTime" placeholder="例: 30, 60">
            </div>
            <div class="anxiety-level-selection">
                <p>このイベントに対する抵抗感はどれくらいですか？</p>
                <br>
                <p> (0:全くない 〜 10:非常に強い)</p>
                <select id="anxietyLevelSelect"></select>
            </div>
            <button id="startTaskBtn" class="action-btn next-btn">タスク開始</button>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="inTaskScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="intask-current-level">1</span></p>
                <p>経験値: <span id="intask-current-exp">0</span> / <span id="intask-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="intask-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>タスク実行中！</h2>
            <p>現在実行中のイベント: <span id="currentTaskDisplay" class="highlight-text"></span></p>
            <p class="elapsed-time-display">経過時間: <span id="elapsedTimeCounter">00:00:00</span></p>
            <button id="endTaskBtn" class="action-btn next-btn">タスク終了</button>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="progressAnimationScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="progress-animation-current-level">1</span></p>
                <p>経験値: <span id="progress-animation-current-exp">0</span> / <span id="progress-animation-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="progress-animation-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>お疲れ様です！</h2>
            <p id="progressAnimationEventName" class="highlight-text"></p>
            <div class="progress-animation-container">
                <div id="progressAnimationBar" class="progress-bar"></div>
                <span id="progressAnimationPercentage" class="progress-percentage"></span>
            </div>
            <p id="progressAnimationAmountText" class="detail-text"></p>
            <p id="expGainMessage" class="detail-text"></p>
            <div class="animation-actions">
                <button id="toRestBtnFromAnimation" class="action-btn">少し休憩する</button>
                <button id="toWeeklyProgressBtnFromAnimation" class="action-btn next-btn">イベントを確認する</button>
            </div>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="levelUpScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="level-up-current-level">1</span></p>
                <p>経験値: <span id="level-up-current-exp">0</span> / <span id="level-up-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="level-up-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>🎉レベルアップ！🎉</h2>
            <p id="levelUpTransitionMessage">おめでとうございます！</p>
            <p id="levelUpDisplayMessage" class="highlight-text"></p>
            <p>いまはこの達成感をかみしめてくださいね！</p>
            <div class="animation-actions">
                <button id="levelUpToRestBtn" class="action-btn">少し休憩する</button>
                <button id="levelUpToWeeklyProgressBtn" class="action-btn next-btn">イベントを確認する</button>
            </div>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>
        
        <div id="restScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="rest-current-level">1</span></p>
                <p>経験値: <span id="rest-current-exp">0</span> / <span id="rest-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="rest-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>休憩中...</h2>
            <p>心と体を休めましょう。</p>
            <p>何かアルバムを集中して聞きますか？</p>
            <p>お昼寝ですか？</p>
            <p>息抜きに散歩でもしましょうか！</p>
            <p>どちらにせよ、少しの間、画面から離れてリラックスしてくださいね</p>

            <button id="toWeeklyProgressBtnFromRest" class="action-btn next-btn">イベントを確認する</button>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="anxietyConsultationScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="anxiety-current-level">1</span></p>
                <p>経験値: <span id="anxiety-current-exp">0</span> / <span id="anxiety-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="anxiety-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>一度AIに感情をぶつけてみましょう</h2>
            <p style="margin-top: 30px;">以下のリンクからChatGPTアプリを開くことができます。</p>
            <a href="chatgpt://" class="action-btn next-btn" id="openChatgptAppBtn">ChatGPTアプリを開く</a>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="otherAppAccessScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="otherapp-current-level">1</span></p>
                <p>経験値: <span id="otherapp-current-exp">0</span> / <span id="otherapp-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="otherapp-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>他のアプリへアクセス</h2>
            <p>何にアクセスしますか？</p>
            <div class="options-grid" id="appTypeSelectionGrid">
                <button id="accessResearchBtn" class="action-btn">調べものをする</button>
                <button id="accessOtherAppBtn" class="action-btn">他のアプリをいじる</button>
            </div>

            <div id="researchApps" class="options-grid" style="display: none;">
                <h3>調べものアプリ (調べものに集中しましょう)</h3>
                <p>調べ物はメモに書いておき、後で一気に調べましょう</p>
            </div>

            <div id="otherApps" class="options-grid" style="display: none;">
                <h3>その他のアプリ (15分後に通知します)</h3>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>

        <div id="progressConfirmationScreen" class="screen">
            <div class="status-area">
                <p>レベル: <span id="progress-conf-current-level">1</span></p>
                <p>経験値: <span id="progress-conf-current-exp">0</span> / <span id="progress-conf-next-level-exp">100</span></p>
                <div class="exp-bar-container">
                    <div id="progress-conf-exp-bar" class="exp-bar"></div>
                </div>
            </div>
            <h2>週間進捗レポート</h2>
            <p>今週完了したイベント: <span id="completedCount">0</span> 件</p>
            <p>獲得経験値合計: <span id="totalExpDisplay">0</span> Exp</p>

            <h3>完了イベント履歴</h3>
            <div class="completed-events-list-container">
                <div id="completedEventsList">
                </div>
            </div>
            <button class="action-btn back-btn margin-top-auto">戻る</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>